@model SongEditViewModel

<div class="row justify-content-center mt-3">
    <div class="col-12 col-md-6 col-lg-6 border-2 border border-dark rounded-3 p-3 fs-5">
        <h2 class="text-center">Edit song</h2>

        <form method="post" asp-action="Edit">
            <hr />
            <input type="hidden" asp-for="Id" />

            <div class="form-group text-center mb-3">
                <label asp-for="Title" class="form-label">Title</label>
                <input asp-for="Title" class="form-control" />
                <span asp-validation-for="Title" class="text-danger"></span>
            </div>

            <div class="form-group text-center mb-3">
                <label class="form-label">Length</label>
                <div class="d-flex gap-2">
                    <input asp-for="Minutes" type="number" min="0" max ="59" class="form-control" placeholder="Min" />
                    <input asp-for="Seconds" type="number" min="0" max="59" class="form-control"placeholder="Sec" />
                </div>
                <span asp-validation-for="Minutes" class="text-danger"></span>
                <span asp-validation-for="Seconds" class="text-danger"></span>
            </div>

            <div class="form-group text-center mb-3">
                <label asp-for="ReleaseDate" class="form-label">Release Date</label>
                <input type="date" asp-for="ReleaseDate" class="form-control" />
                <span asp-validation-for="ReleaseDate" class="text-danger"></span>
            </div>

            <div class="form-group text-center mb-3">
                <label asp-for="GenreId" class="form-label">Genre</label>
                <select asp-for="GenreId" asp-items="ViewBag.Genres" class="form-select">
                    <option value="">-- Select genre --</option>
                </select>
                <span asp-validation-for="GenreId" class="text-danger"></span>
            </div>

            <div class="form-group text-center mb-3">
                <label asp-for="SelectedArtistIds" class="form-label">Select features</label>
                <select asp-for="SelectedArtistIds" asp-items="Model.Artists" id="artistSelect" multiple class="form-select"></select>
            </div>

            <div class="form-group text-center mb-3">
                <label asp-for="ImageURL" class="form-label">Art Cover</label>
                <input asp-for="ImageURL" class="form-control" />
                <span asp-validation-for="ImageURL" class="text-danger"></span>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary w-100">Edit</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const artistSelect = document.getElementById('artistSelect');

            new Choices(artistSelect, {
                removeItemButton: true,
                searchEnabled: true,
                placeholderValue: 'Select artists',
                noResultsText: 'No artists found',
                itemSelectText: 'Click to select',
                shouldSort: false
            });
        });
    </script>
}

<style>
    .choices__item {
        background-color: #0d6efd;
        color: white;
        border-radius: 0.375rem;
        padding: 0.25rem 0.5rem;
    }

    .choices__item--selectable {
        background-color: #0d6efd !important;
        color: white !important;
    }

    .choices__button {
        color: white !important;
    }
</style>